<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./src/styles/global.css">
    <link rel="stylesheet" href="./src/styles/home.css">
    <link rel="stylesheet" href="./src/styles/search_article.css">
    <link rel="stylesheet" href="./src/styles/article.css">
    <link rel="stylesheet" href="./src/styles/user_profile.css">
    <title>Sapes.com</title>
</head>

<body>

    <div id="app">
        <nav>
            <div class="logo">
                <router-link to="/">
                    <h1>Sapes</h1>
                </router-link>
            </div>

            <div class="links-container">
                <router-link to="/search-article">
                    <div>Catalogue</div>
                </router-link>
                <i class="fa-solid fa-cart-shopping"></i>
                <router-link to="/user-profile">
                    <i class="fa-solid fa-user"></i>
                </router-link>
            </div>
        </nav>

        <router-view></router-view>
    </div>

    <script type="text/x-template" id="home">
        <div class="home-container">
            <h1>Bienvenue sur Sapes.com</h1>
        </div>
    </script>

    <script type="text/x-template" id="search-page">
        <div class="search-page-container"  v-if="loaded">
            <div class="filters-container">
              <select name="gender" id="gender-select" @change="handleFilterChange()" v-model="gender_key">
                <option :value="0" selected>Universel</option>
                <option v-for="gender in genders" :value="gender.id">{{ gender.name }}</option>
              </select>
      
              <select name="brand" id="brand-key" @change="handleFilterChange()" v-model="brand_key">
                <option :value="0" selected>Toutes Marques</option>
                <option v-for="brand in brands" :value="brand.id">{{ brand.name }}</option>
              </select>
      
              <select name="category" id="category_select" @change="handleCategoryChange()" v-model="category_key">
                <option :value="0" selected>Toutes Catégories</option>
                <option v-for="category in categories" :value="category.id">{{ category.name }}</option>
              </select>
      
              <select name="sub-category" id="sub-category-select" @change="handleFilterChange()" v-model="sub_category_key" v-if="category_key != 0">
                <option :value="0" selected>Toutes Sous Catégories</option>
                <option v-for="sub_category in displayed_sub_categories" :value="sub_category.id">{{ sub_category.name }}</option>
              </select>
      
              <button class="reset-filters" v-on:click="handleResetFilters">Reset</button>
            </div>
      
            <div class="articles-container">
              <div class="article-card" v-for="article in filtered_articles" v-bind:id="article.id">
                <router-link  :to="{name : 'ArticlePage', params: { id: article.id }}">
                    <img v-bind:src="article.image" class="article-img" alt="">
                    <h4 class="name">{{ article.name }}</h4>
                    <h4 class="price">{{ article.price }} €</h4>
                </router-link>
              </div>
            </div>
          </div>
    </script>

    <script type="text/x-template" id="article">
        <div class="article-container">
            <div class="main-container">
                <img v-bind:src="article.image" class="article-img" alt="">

                <div class="infos-container">
                    <h2>{{ article.name }}</h2>
                    <h2>{{ article.price }}€</h2>
                    <button><i class="fa-solid fa-plus"></i> Ajouter au panier</button>
                </div>
            </div>

            <div class="details-container">
                <p>{{ article.description }}</p>
            </div>
        </div>
    </script>

    <script type="text/x-template" id="user-profile">
        <div class="login-container">   
            <div class="login-content">
                <h1 class="login-title">Sign in</h1>
                <div class="login-form">                       
                    <label for="mail"></label>
                    <input type="text" id="mail" class ="input-login" name="mail" placeholder="Email" v-model="mail"><br><br>
                    <label for="password"></label>
                    <input type="password" id="password" class ="input-login" name="password" placeholder="Password" v-model="password"><br><br>
                    <input type="submit" class ="button-login" v-on:click="Login" value="Sign up">
                </div>
            </div>
        </div>
    </script>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/vue-router@4.0.15/dist/vue-router.global.js"></script>
    <script src="./src/js/vue.js" defer></script>
    <script src="https://kit.fontawesome.com/008612b1fd.js" crossorigin="anonymous"></script>
</body>
</html>
